<!DOCTYPE html>
<html>

  <head>
    <script src="jquery.js"></script>
    <script src="dataGenerator.js"></script>

  </head>


  <body>

    <script>

      $(document).ready(function() {

        // Function to generate (currentTime) a (tweet) was modified
        var timestamp = function() {
          var date = new Date();
          var strTime = date;
          return strTime;
        };

        var sharksforcheapTweets = streams.users.sharksforcheap;
        var index = sharksforcheapTweets.length -1;

        // <body> element
        var $body = $('body');

        var homePath = index.html;
        var home = $('<a href=index.html></a>');
        home.text('Home Page');
        home.appendTo($body);

        while(index >= 0) {
          generateNewTweets();
        }

        // (!) Currently working
        function generateNewTweets() {

          let name = sharksforcheapTweets[index].user;
          let tweetMessage = sharksforcheapTweets[index].message;
          let currentTime = timestamp();
          let timeLinePath = name + '.html';

          var tweet = $('<div></div>');
          tweet.attr = ('id', name);

          var newLine = $('<br></br>');
          var time = $('<div></div>');
          time.text(currentTime);

          var userName = $('<a></a>');
          userName.attr('class', name);
          userName.attr('href', timeLinePath);
          userName.text('@' + name + ': ' );
          userName.appendTo(tweet);

          var userTweet = $('<div></div>');
          userTweet.text(tweetMessage);
          userTweet.appendTo(tweet);

          // Appending
          time.appendTo(tweet);
          newLine.appendTo(tweet);
          tweet.appendTo($body);

          index -= 1;

        }

      });

    </script>

  </body>
</html>
